[{"title":"博客搭建相册","url":"%2Fpost%2Feb6ee242.html","content":"\n![](http://pnvqllex0.bkt.clouddn.com/4.jpg)\n\n<!-- more -->"},{"title":"Hexo 自定义页面如何避免被渲染","url":"%2Fpost%2F4d280a8b.html","content":"\n![](http://pnvqllex0.bkt.clouddn.com/psb.jpg)\n\n<!-- more -->\n\n#### 自定义网页与渲染\n\n网页可以是自己编写的，也可以是别人现成的源码。网页编写完成后，在 Hexo\\source 目录下创建一个文件夹，文件夹名称任意，将 Html 文件放置于此文件夹，并重命名为 index.html 。\n\nHexo 博客大部分都呈现出一种高度的统一化与规范化，所见文章都是经由渲染的静态网页，而静态网页的样式都直接由 Hexo 的主题控制。之前在加入自定义机器人页面时，为了避免被渲染，是将Hexo\\source 的件夹中的 index.md 文件删除，然后在Hexo\\public文件夹下新建robot文件夹，然后将index.html放入，坏处就是每次hexo clean后，数据总会被清理，得需要重新复制，十分麻烦！\n\n好在Hexo 提供了跳过渲染功能。\n\n\n\n#### 方法一\n\n在html文件中添加跳过渲染指令：\n\n用编辑器打开 Hexo\\source 创建的文件夹中的 index.html 文件，在开头添加如下代码即可\n\n```\n---\nlayout: false\n---\n```\n\n添加该指令后，执行 hexo g 命令时便会跳过该 index.html 文件，使得 index.html 不受当前 hexo 主题影响，完全是一个独立的网页。\n\n如果网页引用了 css 或 js ，这些 css 和 js 必须使用外链。\n\n如果引用图片，可以在网页目录下建立 img 文件夹，可以直接引用图片，不必再去创建外链。\n\n#### 方法二\n\n使用编辑器打开 Hexo 目录下的_config.yml 文件，找到 skip_render\n\nskip_render 一般有以下四种常用参数：\n\n1. 跳过source目录下的 test.html: skip_render: test.html\n\n2. 跳过source目录下 test 文件夹内所有文件：skip_render: test/*\n\n3. 跳过source目录下 test 文件夹内所有文件包括子文件夹以及子文件夹内的文件：skip_render: test/**\n\n4. 跳过多个路径：\n\n   ```\n   skip_render:\n    - test.html\n    - test/*\n   ```\n\n对格式要求严格，注意填写参数时的格式，添加完成后便不会渲染指定文件/文件夹。\n\n如果网页引用了 css 或 js ，并将整个网页目录设置为跳过渲染，则不必再为 css 和 js 创建外链，可以直接引用。","tags":["Hexo"]},{"title":"博客优化(3)","url":"%2Fpost%2F3c51e5b6.html","content":"\n![](http://pnvqllex0.bkt.clouddn.com/5.jpg)\n\n<!-- more --> \n\n#### 设置头像边框为圆形框及实现鼠标放置头像上旋转的特效\n\n新版的Next7，图片可以链接网址或者把图片放入 `themes/next/source/images` 下,修改 `avatar`。无需修改`hemes/next/source/css/_common/components/sidebar/sidebar-author.syl`文件，只需要将themes/next/_config.yml修改如下即可：\n\n```\n# Sidebar Avatar\navatar:\n  # In theme directory (source/images): /images/avatar.gif\n  # In site directory (source/uploads): /uploads/avatar.gif\n  # You can also use other linking images.\n  url: /images/avatar.gif\n  # If true, the avatar would be dispalyed in circle.\n  rounded: true\n  # The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.\n  opacity: 1\n  # If true, the avatar would be rotated with the cursor.\n  rotated: true\n```\n\n\n\n#### 设置网站的图标Favicon\n\n在图标网站找一张你喜欢的图标（大：32x32 小：16x16），图标网站：[easyicon](http://www.easyicon.net/)或者[阿里巴巴矢量图标库](http://www.iconfont.cn/)。将下载下来的小图和中图放在`Blog/themes/next/source/images`，将默认的两张图片替换掉。themes/next/_config.yml,若自定义了图片名字，需要做修改：\n\n```\nfavicon:\n  small: /images/favicon-16x16-next.png  //16X16小图\n  medium: /images/favicon-32x32-next.png  //32X32大图\n  ... \n```\n\n","tags":["NexT"]},{"title":"博客优化(2)","url":"%2Fpost%2F254ad4f7.html","content":"\n ![](http://pnvqllex0.bkt.clouddn.com/7.jpg)\n\n<!-- more -->\n\n#### 首页文章间距过款\n\n打开`\\themes\\next\\source\\css\\_schemes\\Mist\\_posts-expanded.styl` ，在最后一行添加\n\n```\nposts-expand .post {\n  margin-top: 30px;\n  margin-bottom: 30px;\n}\n```\n\n\n\n#### 显示文章字数统计,阅读时长,总字数\n\ncd 到站点根目录下\n\n```\n$ npm i --save hexo-wordcount\n```\n\n打开站点(hexo)的_config.yml，添加\n\n```\nsymbols_count_time:\n  symbols: true\n  time: true\n  total_symbols: true\n  total_time: false\n```\n\n打开 `themes/next/_config.yml` ，搜索关键字 `post_wordcount`：\n\n```\nsymbols_count_time:\n  separated_meta: true\n  item_text_post: true\n  item_text_total: true\n  awl: 4\n  wpm: 275\n```\n\n#### 实现点击出现桃心效果\n\ncd 进 路径 `/themes/next/source/js/src` \n\n新建(touch love.js)并将以下代码复制进去并保存：\n\n```\n!function(e,t,a){function n(){c(\".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}\"),o(),r()}function r(){for(var e=0;e<d.length;e++)d[e].alpha<=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText=\"left:\"+d[e].x+\"px;top:\"+d[e].y+\"px;opacity:\"+d[e].alpha+\";transform:scale(\"+d[e].scale+\",\"+d[e].scale+\") rotate(45deg);background:\"+d[e].color+\";z-index:99999\");requestAnimationFrame(r)}function o(){var t=\"function\"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),i(e)}}function i(e){var a=t.createElement(\"div\");a.className=\"heart\",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement(\"style\");a.type=\"text/css\";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName(\"head\")[0].appendChild(a)}function s(){return\"rgb(\"+~~(255*Math.random())+\",\"+~~(255*Math.random())+\",\"+~~(255*Math.random())+\")\"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);\n```\n\n然后打开 `\\themes\\next\\layout\\_layout.swig` 文件,在末尾（在前面引用会出现找不到的bug）添加以下代码：\n\n```\n<!-- 页面点击小红心 -->\n<script type=\"text/javascript\" src=\"/js/src/love.js\"></script>\n```\n\n\n\n#### 内容区域的宽度\n\n就是文章的框框\n\nNext主题在电脑上阅读文章时内容两边留的空白较多，这样在浏览代码块时经常要滚动滚动条才能阅读完整，体验不是很好，下面提供修改内容区域的宽度的方法。\n NexT 对于内容的宽度的设定如下(移动设备下，宽度自适应):\n\n##### 在Mist和Muse风格\n\n编辑主题的 `source/css/_variables/custom.styl` 样式文件，新增变量，即可修改宽度：\n\n```\n// 700px，当屏幕宽度 < 1600px\n$content-desktop = 700px\n\n// 当视窗超过 1600px 后的宽度\n$content-desktop-large = 900px\n```\n\n##### 当使用Pisces风格：\n\n```\nheader{ width: 90%; }\n.container .main-inner { width: 90%; }\n.content-wrap { width: calc(100% - 260px); }\n```\n\n#### 博文的置顶和排序\n\n打开Hexo站点下node_modules/hexo-generator-index/lib/generator.js文件，代码全部替换\n\n```\n'use strict';\nvar pagination = require('hexo-pagination');\nmodule.exports = function(locals){\n  var config = this.config;\n  var posts = locals.posts;\n    posts.data = posts.data.sort(function(a, b) {\n        if(a.top && b.top) { // 两篇文章top都有定义\n            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排\n            else return b.top - a.top; // 否则按照top值降序排\n        }\n        else if(a.top && !b.top) { // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）\n            return -1;\n        }\n        else if(!a.top && b.top) {\n            return 1;\n        }\n        else return b.date - a.date; // 都没定义按照文章日期降序排\n    });\n  var paginationDir = config.pagination_dir || 'page';\n  return pagination('', posts, {\n    perPage: config.index_generator.per_page,\n    layout: ['index', 'archive'],\n    format: paginationDir + '/%d/',\n    data: {\n      __index: true\n    }\n  });\n};\n```\n\n打开文章添加top字段,设置数值，数值越大文章越靠前：\n\n```\ntitle: *****\ndate: *****\ntags: ****\ntop: 100\n\n```\n\n\n\n#### 修改文章底部的那个带#号的标签\n\n打开 `themes/next/layout/_macro/post.swig` 文件,搜索 `rel=\"tag\">#` ,将 `#` 换成 `<i class=\"fa fa-tag\"></i>`\n\n\n\n####  浏览页面的时候显示当前浏览进度\n\n打开 `themes/next/_config.yml` ,搜索关键字 `scrollpercent` ,把 `false` 改为 `true`。\n\n```\n # Scroll percent label in b2t button\n scrollpercent: true\n```\n\n如果想把 `top`按钮放在侧边栏,打开 `themes/next/_config.yml` ,搜索关键字 `b2t` ,把 `false` 改为 `true`。\n\n```\n# Back to top in sidebar\n b2t: true\n\n # Scroll percent label in b2t button\n scrollpercent: true\n```\n\n### \n\n#### 每篇文章末尾统一添加“本文结束”标记\n\n在路径 `/themes/next/layout/_macro` 中cd新建  `passage-end-tag.swig` 文件,并添加以下内容：\n\n```\n<div>\n    {% if not is_index %}\n        <div style=\"text-align:center;color: #ccc;font-size:16px;\">-------------本文结束<i class=\"fa fa-thumbs-up\"></i>感谢您的阅读-------------</div>\n    {% endif %}\n</div>\n```\n\n打开 `themes/next/layout/_macro/post.swig` 文件,在`post-body`之后，`post-footer`之前（**post-footer之前两个DIV**）添加：\n\n```\n<div>\n    {% if not is_index %}\n    {% include 'passage-end-tag.swig' %}\n    {% endif %}\n </div>\n```\n\n然后打开主题配置文件 `_config.yml`,在末尾添加：\n\n```\n# 文章末尾添加“本文结束”标记\npassage_end_tag:\nenabled: true\n```\n\n\n\n\n\n\n\n\n\n","tags":["NexT"]},{"title":"Hexo v3.8.0 +NexT.Mist v7.0.1  博客优化(1)","url":"%2Fpost%2F6cd3ce39.html","content":"\n![](http://pnvqllex0.bkt.clouddn.com/6.jpg)\n\n<!-- more-->\n\n#### 给网站加上问答机器人\n\n第一种方法，由于不会前端方面的知识，就直接在socia引入url取个巧吧，等以后学会JavaScript之后再写个聊天界面接入网页中吧;\n\n另外一种方法是新建一个page , hexo new page \"robot\",在根目录下产生一个robot文件夹,删除里面的index.md,然后在根目录下的public文件夹里新建一个robot文件夹，将index.html文件拷贝进去（html+css+javascript), hexo d,这也是自定义网页的方法，不过hexo clean后，public文件夹就会被清理，所以要备份你自定义的index.html文件。\n\n为了节省menu,我也把这个网页设成网址放在social里,不过每天回答的次数有限制。。。。\n\n#### 网页中插入音乐外链播放器-----layout/_macro/sidebar.swig文件\n\n网页云音乐由于版权问题无法生成外链播放器，故选取猫耳FM\n\n外链HTML代码贴在想要放的位置，我把它放在尺寸自动播放代码里可以调\n\n我把它插在侧边栏里，对应在layout/_macro/sidebar.swig文件里\n\n```html\n<iframe frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" width=\"310\" height=\"300\" src=\"https://www.missevan.com/albumiframe/1861550?autoplay=false&playlist=true\"></iframe>\n```\n\n\n\n#### 首页文章不全文显示，调成预览模式 \n\n##### 方法1主题配置文件\n\n进入hexo博客项目的themes/next目录\n\n用文本编辑器打开_config.yml文件\n\n搜索\"auto_excerpt\",改为true以及设置显示长度\n\n##### 方法2 在你想要截断的地方加符号\n\n用md写的话，在文章里加<!1-- more --> 会自动截断（我加1是为了不以这结尾）\n\n\n\n#### 主页文章添加阴影效果\n\n就是文章外面那个框框\n\n打开`\\themes\\next\\source\\css\\_custom\\custom.styl`,向里面加入：\n\n```\n .post {\n   margin-top: 60px;\n   margin-bottom: 60px;\n   padding: 25px;\n   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);\n   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);\n```\n\n\n\n#### 文章出现两次阅读次数——leancloud和busuanzi重复的原因\n\n1、leancloud(true时首页预览模式和文章页均可看到阅读次数)\n\n主题_config.yml文件 设置 visitor: false\n\nvaline:\n  ...\n  visitor: false\n\n2、busuanzi(true时预览模式阅读次数不可见)\n\n主题_config.yml文件 设置post_views: false\n\nbusuanzi_count:\n  ....\n  post_views: false\n  post_views_icon:  eye\n\n\n\n#### 底部\n\n##### 隐藏由Hexo强力驱动、主题--NexT.Mist\n\n打开`Blog/themes/next/layout/_partials/footer.swig`，注释掉相应代码。\n\n```\n<!--代码 -->\n```\n\n```swig\n<!--\n<span class=\"post-meta-divider\">|</span>\n\n{% if theme.footer.powered %}\n  <div class=\"powered-by\">{#\n  #}{{ __('footer.powered', '<a class=\"theme-link\" target=\"_blank\" href=\"https://hexo.io\">Hexo</a>') }}{#\n#}</div>\n{% endif %}\n\n{% if theme.footer.powered and theme.footer.theme.enable %}\n  <span class=\"post-meta-divider\">|</span>\n{% endif %}\n\n{% if theme.footer.theme.enable %}\n  <div class=\"theme-info\">{#\n  #}{{ __('footer.theme') }} &mdash; {#\n  #}<a class=\"theme-link\" target=\"_blank\" href=\"https://github.com/iissnan/hexo-theme-next\">{#\n    #}NexT.{{ theme.scheme }}{#\n  #}</a>{% if theme.footer.theme.version %} v{{ theme.version }}{% endif %}{#\n#}</div>\n{% endif %}\n\n{% if theme.footer.custom_text %}\n  <div class=\"footer-custom\">{#\n  #}{{ theme.footer.custom_text }}{#\n#}</div>\n{% endif %}\n-->\n```\n\n##### 添加底部桃心\n\n打开`Blog/themes/next/layout/_partials/footer.swig`搜索`with-love`，改成如下\n\n```\n <span class=\"with-love\" id=\"animate\">\n<i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\n```\n\n ","tags":["Hexo"]}]